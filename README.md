
# ProjectM

SwiftUI 기반 iOS 음악 플레이어

## 기능 검증

### 루트 화면 기능 및 테스트 케이스

- 런치스크린이 노출된다.
- 미디어 권한 관련 시스템 알럿을 노출한다.
    - [x]  시스템 알럿이 정상적으로 노출되는가
    - 허용 시 앨범 리스트 화면이 노출한다.
        - [x]  앨범 리스트 화면이 노출되는가?
    - 허용 안함 시
        - 권한 설정 가이드 화면을 노출한다
            - [x]  가이드 화면을 노출하는가
            - [x]  가이드 화면의 설을 버튼을 통해 설정 → 앱으로 이동하는가?
            - [x]  권한 허용 및 포그라운드 전환 시 앨범 리스트가 노출되는가?
            - [x]  권한 제거 및 포그라운드 전환 시 가이드 화면이 노출되는가?

### 앨범 리스트 / 앨범 상세 화면 기능 및 테스트 케이스

- 앨범 리스트 화면에서 미니플레이어가 노출된다.
- 미니플레이어는 현재 재생되는 곡의 상태를 가진다.
- 각 앨범에 진입, 앨범 상세 화면에서 곡 목록을 확인할 수 있다
- 요구 조건였지만 마이크 버튼은 기능정의가 없음으로 제거한다.
- 앨범 상세에서 아래 기능을 제공한다
    - 앨범 이미지 / 노래 제목 / 가수 정보를 제공한다
    - 재생/정지, 임의재생 기능을 제공한다
        - [x]  재생/정지가 되는가?
        - [x]  임의 재생이 되는가?
        - [x]  임의 재생 시 현재곡이 하이라이트 되는가?
- 곡목록에서 선택재생을 제공한다
    - [x]  선택 재생 시 재생이 되는가?
    - [x]  선택 시 하이라이트가 처리되는가
- 모든 기능은 미니플레이어와 동기화 된다.
    - 미니플레이어가 같은 앨범을 재생 시 앨범 상세 기능에서
    - [x]  재생/정지 버튼의 싱크가 맞는가?
    - [x]  현재 곡이 곡 목록에서 하이라이트 되어 있는가?
    - [x]  임의재생이 잘 작동하는가
        - 미니 플레이어에서
        - [x]  재생/정지 버튼의 싱크가 맞는가?
    - 미니플레이어가 다른 앨범을 재생 시 앨범 상세 기능에서
        - [x]  재생 시 해당 앨범으로 변경되는가
        - [x]  선택 재생 시 해당 앨범으로 변경되는가
        - [x]  재생/정지 버튼의 싱크가 맞는가?
        - [x]  곡 목록에서 하이라이트가 안되어 있는가?
        - [x]  임의 재생이 잘 동작하는가? (해당 화면은 변경되지 않는다)
        - 미니 플레이어에서
            - [x]  재생/정지 버튼의 싱크가 맞는가? (해당 화면은 변경되지 않는다)
        
    
  // TODO: 미니플레이 상세 및 시스템 음악 앱 검증 필요  
- 미니플레이어의 모든 기능은 시스템 음악 앱과 동기화 된다.

-----------

## 기능 정의

- 앱 초기화면 Navigation은 Large Navigation로 표현된다
    - 우측 네비게이션아이템에 녹음 아이콘이 노출한다.
        - ⚠️ 해당 기능에 대한 명세서가 없음
    
- 앱의 초기화면에서 앨범 목록이 노출된다.
    - 각 앨범은 앨범아트, 앨범 제목, 아티스트가 표시된다.
    
- 앱의 하단에는 미니 플레이어가 노출된다.
    - 미니 플레이어는 현재 음악의 재생상태를 반영한다.
    - ⚠️ 초기값은 디테일한 요구사항이 없음으로 두가지 안이 존재 UX 고민하고 처리할 것
        - 1안) 재생 중이 아님을 표기하고 항상 미니플레이어를 노출한다
        - 2안) 재생 중인 경우에만 노출한다.
        - 3안) 재생 중이 아님을 표기하고 알파를 조정, 노출 위치를 학습 시키고 재생 시 강조 노출한다.
        
- 앨범 목록에서 앨범 화면으로 진입할 수 있다.
    - 앨범 화면에는 해당 앨범의 곡 목록이 노출된다.
    - 재생 버튼을 누르면 1번 곡부터 차례대로 재생된다.
    - 곡 목록에서 곡을 누르면 해당 곡부터 차례대로 재생된다.
    - 임의 재생 버튼을 누르면 앨범의 곡 전체가 임의로 재생된다.
        - ⚠️ 임의 재생에 대한 정의가 부족함.
    - 하단에 미니 플레이어가 노출된다.
    
- 미니 플레이어를 누르면 Modality하게 콘텐츠를 제공해야한다.
    - 재생/일시정지, 뒤로감기, 빨리 감시, 셔플, 반복, 볼륨 컨트롤, 재생 컨트롤 기능을 제공해야한다.
    
- 백그라운드에서도 재생 및 컨트롤이 가능해야한다.
    - BackgroundModes

## 개발환경

### 기술 스택

- MV Architecture, SwiftUI, Combine, async-await, 
- 프로젝트 관리 tuist
    - 구조 
    
```
ProjectM
ㄴ Application
    ㄴ Project.swift
    ㄴ Sources
        ㄴ MusicPlayer
ㄴ Modules
    ㄴ Components
    ㄴ AudioService
    ㄴ MiniPlayer
```


### 커밋메시지
feat: → 새로운 기능을 추가할 때 사용합니다.

fix: → 발견된 버그를 수정하거나, 개발자가 문제를 찾아 수정할 때 사용합니다.

env: → 개발 환경 설정을 변경하거나 업데이트할 때 사용합니다.

docs: → 문서를 작성할때 사용합니다.

refactor: → 기능의 변화 없이 코드 구조를 개선할 때 사용합니다.
